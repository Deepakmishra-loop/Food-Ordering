{"ast":null,"code":"import axios from \"axios\";\nexport const placeOrder = (token, subTotal) => async (dispatch, getState) => {\n  dispatch({\n    type: \"PLACE_ORDER_REQUEST\"\n  });\n  const currentUser = getState().loginUserReducer.currentUser;\n  const cartItems = getState().cartReducer.cartItems;\n\n  try {\n    await axios.post(\"/api/orders/placeorder\", {\n      token,\n      subTotal,\n      currentUser,\n      cartItems\n    });\n    dispatch({\n      type: \"PLACE_ORDER_SUCCESS\"\n    }); // console.log(res);\n  } catch (error) {\n    dispatch({\n      type: \"PLACE_ORDER_FAIL\"\n    });\n    console.log(error);\n  }\n};\nexport const getUserOrders = () => async (dispatch, getState) => {\n  const currentUser = getState().loginUserReducer.currentUser;\n  dispatch({\n    type: \"USER_ORDER_REQUEST\"\n  });\n\n  try {\n    const response = await axios.post(\"/api/orders/getuserorder\", {\n      userid: currentUser._id\n    }); // console.log(response);\n\n    dispatch({\n      type: \"USER_ORDER_SUCCESS\",\n      payload: response.data\n    });\n  } catch (error) {\n    dispatch({\n      type: \"USER_ORDER_FAIL\",\n      payload: error\n    });\n  }\n};\nexport const getAllOrders = () => async (dispatch, getState) => {\n  // const currentUser = getState().loginUserReducer.currentUser;\n  dispatch({\n    type: \"ALL_ORDER_REQUEST\"\n  });\n\n  try {\n    const response = await axios.get(\"/api/orders/alluserorder\");\n    dispatch({\n      type: \"ALL_ORDER_SUCCESS\",\n      payload: response.data\n    });\n  } catch (error) {\n    dispatch({\n      type: \"ALL_ORDER_FAIL\",\n      payload: error\n    });\n  }\n};\nexport const deliverOrder = orderid => async (dispatch, getState) => {\n  // const currentUser = getState().loginUserReducer.currentUser;\n  dispatch({\n    type: \"GET_ALL_ORDER_REQUEST\"\n  });\n\n  try {\n    await axios.post(\"/api/orders/deliverorder\", {\n      orderid\n    });\n    alert(\"Deliverd Success\");\n    const orders = await axios.get(\"/api/orders/alluserorder\");\n    dispatch({\n      type: \"GET_ALL_ORDER_SUCCESS\",\n      payload: orders.data\n    });\n    window.location.href = \"/admin/orderlist\";\n  } catch (error) {\n    dispatch({\n      type: \"GET_ALL_ORDER_FAIL\",\n      payload: error\n    });\n  }\n};","map":{"version":3,"sources":["C:/Users/Deepak/Desktop/Pizza/client/src/actions/orderAction.js"],"names":["axios","placeOrder","token","subTotal","dispatch","getState","type","currentUser","loginUserReducer","cartItems","cartReducer","post","error","console","log","getUserOrders","response","userid","_id","payload","data","getAllOrders","get","deliverOrder","orderid","alert","orders","window","location","href"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\n\r\nexport const placeOrder = (token, subTotal) => async (dispatch, getState) => {\r\n    dispatch({ type: \"PLACE_ORDER_REQUEST\" });\r\n    const currentUser = getState().loginUserReducer.currentUser;\r\n    const cartItems = getState().cartReducer.cartItems;\r\n    try {\r\n        await axios.post(\"/api/orders/placeorder\", {\r\n            token,\r\n            subTotal,\r\n            currentUser,\r\n            cartItems,\r\n        });\r\n        dispatch({ type: \"PLACE_ORDER_SUCCESS\" });\r\n        // console.log(res);\r\n    } catch (error) {\r\n        dispatch({ type: \"PLACE_ORDER_FAIL\" });\r\n        console.log(error);\r\n    }\r\n};\r\n\r\nexport const getUserOrders = () => async (dispatch, getState) => {\r\n    const currentUser = getState().loginUserReducer.currentUser;\r\n    dispatch({\r\n        type: \"USER_ORDER_REQUEST\",\r\n    });\r\n    try {\r\n        const response = await axios.post(\"/api/orders/getuserorder\", {\r\n            userid: currentUser._id,\r\n        });\r\n        // console.log(response);\r\n        dispatch({ type: \"USER_ORDER_SUCCESS\", payload: response.data });\r\n    } catch (error) {\r\n        dispatch({ type: \"USER_ORDER_FAIL\", payload: error });\r\n    }\r\n};\r\nexport const getAllOrders = () => async (dispatch, getState) => {\r\n    // const currentUser = getState().loginUserReducer.currentUser;\r\n    dispatch({\r\n        type: \"ALL_ORDER_REQUEST\",\r\n    });\r\n    try {\r\n        const response = await axios.get(\"/api/orders/alluserorder\");\r\n        dispatch({ type: \"ALL_ORDER_SUCCESS\", payload: response.data });\r\n    } catch (error) {\r\n        dispatch({ type: \"ALL_ORDER_FAIL\", payload: error });\r\n    }\r\n};\r\n\r\nexport const deliverOrder = (orderid) => async (dispatch, getState) => {\r\n    // const currentUser = getState().loginUserReducer.currentUser;\r\n    dispatch({\r\n        type: \"GET_ALL_ORDER_REQUEST\",\r\n    });\r\n    try {\r\n        await axios.post(\"/api/orders/deliverorder\", { orderid });\r\n        alert(\"Deliverd Success\");\r\n        const orders = await axios.get(\"/api/orders/alluserorder\");\r\n        dispatch({ type: \"GET_ALL_ORDER_SUCCESS\", payload: orders.data });\r\n        window.location.href = \"/admin/orderlist\";\r\n    } catch (error) {\r\n        dispatch({ type: \"GET_ALL_ORDER_FAIL\", payload: error });\r\n    }\r\n};"]},"metadata":{},"sourceType":"module"}